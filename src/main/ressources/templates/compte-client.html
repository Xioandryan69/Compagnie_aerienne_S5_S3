<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Compte - ITU Airlines</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <style>
        .sidebar {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            height: 100%;
        }
        .sidebar-item {
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .sidebar-item:hover, .sidebar-item.active {
            background: #0d6efd;
            color: white;
        }
        .stat-card {
            border-left: 4px solid #0d6efd;
            padding: 15px;
            background: white;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        .reservation-card {
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        .reservation-card:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .badge-statut {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8em;
        }
        .historique-item {
            padding: 10px;
            border-bottom: 1px solid #dee2e6;
        }
        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: #0d6efd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            color: white;
            margin: 0 auto 20px;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">ITU Airlines</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav ms-auto">
                    <a class="nav-link active" href="/compte">Mon Compte</a>
                    <a class="nav-link" href="/deconnexion">Déconnexion</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container my-5">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-lg-3 mb-4">
                <div class="sidebar">
                    <!-- Profil -->
                    <div class="text-center mb-4">
                        <div class="profile-avatar">
                            <i class="bi bi-person-circle"></i>
                        </div>
                        <h5>Jean Dupont</h5>
                        <p class="text-muted mb-0">Membre depuis 2024</p>
                        <p class="text-muted">Niveau: <span class="text-warning">Gold</span></p>
                    </div>

                    <!-- Menu -->
                    <div class="mb-4">
                        <div class="sidebar-item active" onclick="showSection('informations')">
                            <i class="bi bi-person"></i> Mes informations
                        </div>
                        <div class="sidebar-item" onclick="showSection('reservations')">
                            <i class="bi bi-ticket"></i> Mes réservations
                        </div>
                        <div class="sidebar-item" onclick="showSection('historique')">
                            <i class="bi bi-clock-history"></i> Historique des vols
                        </div>
                        <div class="sidebar-item" onclick="showSection('parametres')">
                            <i class="bi bi-gear"></i> Paramètres du compte
                        </div>
                        <div class="sidebar-item" onclick="showSection('favoris')">
                            <i class="bi bi-heart"></i> Mes favoris
                        </div>
                        <div class="sidebar-item" onclick="showSection('notifications')">
                            <i class="bi bi-bell"></i> Notifications
                        </div>
                    </div>

                    <!-- Statistiques -->
                    <div class="border-top pt-3">
                        <h6>Statistiques</h6>
                        <div class="stat-card">
                            <small class="text-muted">Vols effectués</small>
                            <h4 class="mb-0">12</h4>
                        </div>
                        <div class="stat-card">
                            <small class="text-muted">Kilomètres parcourus</small>
                            <h4 class="mb-0">45,600</h4>
                        </div>
                        <div class="stat-card">
                            <small class="text-muted">Points de fidélité</small>
                            <h4 class="mb-0">1,250</h4>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contenu principal -->
            <div class="col-lg-9">
                <!-- Section Informations -->
                <div id="section-informations" class="content-section">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h3>Mes informations</h3>
                        <button class="btn btn-primary" onclick="editerInformations()">
                            <i class="bi bi-pencil"></i> Modifier
                        </button>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h5>Informations personnelles</h5>
                                    <p><strong>Nom :</strong> Dupont</p>
                                    <p><strong>Prénom :</strong> Jean</p>
                                    <p><strong>Date de naissance :</strong> 15/05/1990</p>
                                    <p><strong>Sexe :</strong> Masculin</p>
                                    <p><strong>Nationalité :</strong> Française</p>
                                </div>
                                <div class="col-md-6">
                                    <h5>Coordonnées</h5>
                                    <p><strong>Email :</strong> jean.dupont@email.com</p>
                                    <p><strong>Téléphone :</strong> +261 34 12 345 67</p>
                                    <p><strong>Adresse :</strong> Lot IVC 67 Antananarivo</p>
                                    <p><strong>Code postal :</strong> 101</p>
                                    <p><strong>Ville :</strong> Antananarivo</p>
                                </div>
                            </div>

                            <div class="row mt-4">
                                <div class="col-md-6">
                                    <h5>Documents</h5>
                                    <p><strong>Passeport :</strong> 12AB34567</p>
                                    <p><strong>Expire le :</strong> 15/08/2028</p>
                                </div>
                                <div class="col-md-6">
                                    <h5>Préférences</h5>
                                    <p><strong>Siège préféré :</strong> Fenêtre</p>
                                    <p><strong>Repas :</strong> Végétarien</p>
                                    <p><strong>Newsletter :</strong> Oui</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section Réservations -->
                <div id="section-reservations" class="content-section" style="display: none;">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h3>Mes réservations</h3>
                        <div>
                            <select class="form-select form-select-sm d-inline-block w-auto">
                                <option>Toutes</option>
                                <option>À venir</option>
                                <option>Passées</option>
                                <option>Annulées</option>
                            </select>
                        </div>
                    </div>

                    <!-- Réservations à venir -->
                    <div class="mb-5">
                        <h5 class="mb-3">À venir</h5>
                        <div class="reservation-card">
                            <div class="row align-items-center">
                                <div class="col-md-3">
                                    <h5>MK101</h5>
                                    <p class="text-muted mb-0">TNR → CDG</p>
                                    <small>15/01/2026 • 08:00</small>
                                </div>
                                <div class="col-md-3">
                                    <p class="mb-1">Passager: Jean Dupont</p>
                                    <p class="mb-0">Siège: 13A</p>
                                </div>
                                <div class="col-md-3">
                                    <span class="badge-statut bg-success">Confirmé</span><br>
                                    <small>Réf: RES-2026-001234</small>
                                </div>
                                <div class="col-md-3 text-end">
                                    <button class="btn btn-outline-primary btn-sm me-2" onclick="modifierReservation(1)">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                    <button class="btn btn-outline-danger btn-sm" onclick="annulerReservation(1)">
                                        <i class="bi bi-x-circle"></i>
                                    </button>
                                    <div class="mt-2">
                                        <a href="#" class="btn btn-link btn-sm">
                                            <i class="bi bi-download"></i> Billet
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="reservation-card">
                            <div class="row align-items-center">
                                <div class="col-md-3">
                                    <h5>MK305</h5>
                                    <p class="text-muted mb-0">CDG → JFK</p>
                                    <small>20/02/2026 • 14:00</small>
                                </div>
                                <div class="col-md-3">
                                    <p class="mb-1">Passager: Jean Dupont</p>
                                    <p class="mb-0">Siège: 7B</p>
                                </div>
                                <div class="col-md-3">
                                    <span class="badge-statut bg-warning text-dark">En attente</span><br>
                                    <small>Réf: RES-2026-001235</small>
                                </div>
                                <div class="col-md-3 text-end">
                                    <button class="btn btn-outline-primary btn-sm me-2" onclick="modifierReservation(2)">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                    <button class="btn btn-outline-danger btn-sm" onclick="annulerReservation(2)">
                                        <i class="bi bi-x-circle"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Réservations passées -->
                    <div>
                        <h5 class="mb-3">Passées</h5>
                        <div class="reservation-card">
                            <div class="row align-items-center">
                                <div class="col-md-3">
                                    <h5>MK210</h5>
                                    <p class="text-muted mb-0">TNR → CDG</p>
                                    <small>15/12/2025 • 10:00</small>
                                </div>
                                <div class="col-md-3">
                                    <p class="mb-1">Passager: Jean Dupont</p>
                                    <p class="mb-0">Siège: 22C</p>
                                </div>
                                <div class="col-md-3">
                                    <span class="badge-statut bg-secondary">Terminé</span><br>
                                    <small>Réf: RES-2025-009876</small>
                                </div>
                                <div class="col-md-3 text-end">
                                    <button class="btn btn-outline-secondary btn-sm">
                                        <i class="bi bi-eye"></i> Voir détails
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section Historique -->
                <div id="section-historique" class="content-section" style="display: none;">
                    <h3 class="mb-4">Historique des vols</h3>
                    
                    <div class="card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Vol</th>
                                            <th>Trajet</th>
                                            <th>Durée</th>
                                            <th>Classe</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>15/12/2025</td>
                                            <td>MK210</td>
                                            <td>TNR → CDG</td>
                                            <td>8h00</td>
                                            <td>Économique</td>
                                            <td>
                                                <button class="btn btn-link btn-sm">Détails</button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>10/11/2025</td>
                                            <td>MK105</td>
                                            <td>CDG → TNR</td>
                                            <td>8h30</td>
                                            <td>Affaires</td>
                                            <td>
                                                <button class="btn btn-link btn-sm">Détails</button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>05/10/2025</td>
                                            <td>MK201</td>
                                            <td>CDG → JFK</td>
                                            <td>8h00</td>
                                            <td>Économique</td>
                                            <td>
                                                <button class="btn btn-link btn-sm">Détails</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Statistiques historiques -->
                            <div class="row mt-4">
                                <div class="col-md-3 text-center">
                                    <div class="display-6 text-primary">12</div>
                                    <small class="text-muted">Vols total</small>
                                </div>
                                <div class="col-md-3 text-center">
                                    <div class="display-6 text-success">45,600</div>
                                    <small class="text-muted">Km parcourus</small>
                                </div>
                                <div class="col-md-3 text-center">
                                    <div class="display-6 text-warning">85</div>
                                    <small class="text-muted">Heures de vol</small>
                                </div>
                                <div class="col-md-3 text-center">
                                    <div class="display-6 text-info">8</div>
                                    <small class="text-muted">Pays visités</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section Paramètres -->
                <div id="section-parametres" class="content-section" style="display: none;">
                    <h3 class="mb-4">Paramètres du compte</h3>
                    
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h5>Modifier le mot de passe</h5>
                                    <div class="mb-3">
                                        <label class="form-label">Mot de passe actuel</label>
                                        <input type="password" class="form-control">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Nouveau mot de passe</label>
                                        <input type="password" class="form-control">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Confirmer le nouveau mot de passe</label>
                                        <input type="password" class="form-control">
                                    </div>
                                    <button class="btn btn-primary">Mettre à jour</button>
                                </div>
                                <div class="col-md-6">
                                    <h5>Préférences de communication</h5>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" checked>
                                        <label class="form-check-label">
                                            Newsletter et offres promotionnelles
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" checked>
                                        <label class="form-check-label">
                                            Rappels de vol
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox">
                                        <label class="form-check-label">
                                            Sondages et enquêtes
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" checked>
                                        <label class="form-check-label">
                                            Notifications push
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <hr class="my-4">

                            <div class="row">
                                <div class="col-md-12">
                                    <h5>Suppression du compte</h5>
                                    <p class="text-muted">
                                        La suppression de votre compte est irréversible. 
                                        Toutes vos données seront définitivement supprimées.
                                    </p>
                                    <button class="btn btn-outline-danger" onclick="supprimerCompte()">
                                        <i class="bi bi-trash"></i> Supprimer mon compte
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section Favoris -->
                <div id="section-favoris" class="content-section" style="display: none;">
                    <h3 class="mb-4">Mes favoris</h3>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="card">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-start">
                                        <div>
                                            <h5>TNR → CDG</h5>
                                            <p class="text-muted mb-1">Antananarivo → Paris</p>
                                            <small>Prix habituel: €450-€500</small>
                                        </div>
                                        <button class="btn btn-outline-danger btn-sm">
                                            <i class="bi bi-heart-fill"></i>
                                        </button>
                                    </div>
                                    <div class="mt-3">
                                        <button class="btn btn-primary btn-sm">Rechercher des vols</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="card">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-start">
                                        <div>
                                            <h5>CDG → JFK</h5>
                                            <p class="text-muted mb-1">Paris → New York</p>
                                            <small>Prix habituel: €300-€400</small>
                                        </div>
                                        <button class="btn btn-outline-danger btn-sm">
                                            <i class="bi bi-heart-fill"></i>
                                        </button>
                                    </div>
                                    <div class="mt-3">
                                        <button class="btn btn-primary btn-sm">Rechercher des vols</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section Notifications -->
                <div id="section-notifications" class="content-section" style="display: none;">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h3>Notifications</h3>
                        <button class="btn btn-outline-secondary btn-sm" onclick="marquerCommeLues()">
                            <i class="bi bi-check-all"></i> Tout marquer comme lu
                        </button>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div class="historique-item">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h6><i class="bi bi-info-circle text-primary"></i> Rappel de vol</h6>
                                        <p class="mb-1">Votre vol MK101 pour demain à 08:00</p>
                                        <small class="text-muted">Il y a 2 heures</small>
                                    </div>
                                    <span class="badge bg-primary">Nouveau</span>
                                </div>
                            </div>
                            <div class="historique-item">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h6><i class="bi bi-percent text-success"></i> Nouvelle promotion</h6>
                                        <p class="mb-1">-20% sur tous les vols vers l'Europe</p>
                                        <small class="text-muted">Il y a 1 jour</small>
                                    </div>
                                </div>
                            </div>
                            <div class="historique-item">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h6><i class="bi bi-ticket text-warning"></i> Billet disponible</h6>
                                        <p class="mb-1">Votre billet électronique est disponible</p>
                                        <small class="text-muted">Il y a 2 jours</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Gestion des sections
        function showSection(sectionId) {
            // Masquer toutes les sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Afficher la section demandée
            document.getElementById('section-' + sectionId).style.display = 'block';
            
            // Mettre à jour le menu
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.sidebar-item').classList.add('active');
        }

        // Éditer les informations
        function editerInformations() {
            alert('Fonctionnalité d\'édition des informations personnelles (à implémenter)');
        }

        // Modifier une réservation
        function modifierReservation(id) {
            if (confirm('Voulez-vous modifier cette réservation ?')) {
                alert('Redirection vers la modification de la réservation ' + id);
                // window.location.href = '/modifier-reservation/' + id;
            }
        }

        // Annuler une réservation
        function annulerReservation(id) {
            if (confirm('Êtes-vous sûr de vouloir annuler cette réservation ?')) {
                alert('Réservation ' + id + ' annulée (simulation)');
                // Ici, logique d'annulation
            }
        }

        // Marquer les notifications comme lues
        function marquerCommeLues() {
            document.querySelectorAll('.badge').forEach(badge => {
                badge.remove();
            });
            alert('Toutes les notifications ont été marquées comme lues');
        }

        // Supprimer le compte
        function supprimerCompte() {
            if (confirm('Êtes-vous sûr de vouloir supprimer votre compte ? Cette action est irréversible.')) {
                alert('Compte marqué pour suppression (simulation)');
            }
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Afficher la section informations par défaut
            showSection('informations');
        });
    </script>
</body>
</html>